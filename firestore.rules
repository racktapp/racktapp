rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    // Default deny all access
    match /{document=**} {
      allow read, write: if false;
    }

    // Allow authenticated users to read and write all documents.
    // This is a simpler rule set for development to unblock all queries.
    match /{path=**}/{document} {
      allow read, write: if request.auth != null;
    }

    // A slightly more secure version would be to check ownership,
    // but the above rule is intended to be a definitive fix for the
    // current permission errors.
  }
}
